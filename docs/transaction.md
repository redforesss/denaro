# transaction

Components:
- version, 1 byte  
- inputs count, 1 byte  
- inputs, 33 bytes per input  
- outputs count, 1 byte  
- outputs
- specifier, 1 byte
- eventual message length, 1 byte
- eventual message (max 255 bytes)
- signatures, 64 bytes per signature

## version
- 1: 64 bytes addresses as outputs  
- 2: 33 bytes addresses as outputs  

_A transaction cannot contain both 64 and 33 bytes addresses in outputs_

## inputs
Transaction Input contains:
- tx_hash, 32 bytes: hash of the transaction which output is being spent  
- index, 1 byte: index of the output in the transaction  

## outputs
Transaction Output contains:
- address, 33 or 64 bytes  
- amount length, 1 byte
- amount (max 255 bytes)

## specifier
Accepted values (1 byte):
- 36: coinbase transaction
- 1: transaction with message
- 0: transaction with no message

## message
Transactions can contain a message, which can be a description of the payment, or can contain useful infos, such as the receiving address in a swap.
Message is raw bytes, encoded the way you like the most

## signature
Non-Coinbase Transactions must contain one or more signatures.   
In denaro every signature is linked to an input address.  
If you're spending 10 outputs from the same address, there will be only one signature. This makes transactions much lightweight.  
A signature is generated by signing the transaction hex until specifier (in raw bytes) with the private key of the related address.  
Signatures are then linked to inputs in an optimized way, querying the database only if strictly needed:  
- there's only one signature: each input is linked to this signature  
- there are `n` inputs and `n` signatures: each input is linked to the signature, the order they're declared  